<!DOCTYPE html>

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title><%= @page[:title] %></title>
	<link rel="stylesheet" href="stylesheets/default.css" type="text/css">
</head>
<body>
  <%= open_tag :body, filter_nil!({:class => @page[:class]}) %>
    <div id="header">
      <h1><%= @page[:title] %></h1>
    </div>

    <%= open_tag :div, filter_nil!({:id => "content", :class => @page[:class] == "colophon" ? "loading" : nil}) %>
  <%= yield %>
    </div>
	
	<script type="text/javascript" src="http://static.wowhead.com/widgets/power.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.4.3.js"></script>
	<script type="text/javascript" src="javascripts/reagents.jquery.js"></script>
	<script type="text/javascript" src="javascripts/recipes.jquery.js"></script>
	<script type="text/javascript" src="javascripts/wowcrafter.jquery.js"></script>
	<script type="text/javascript">
	$(document).ready(function() {

		// generate recipes by ID
    jQuery('body').append(generateRecipe(recipeById(62243))); // Notched Jawbone

		// execute once on every recipe
		jQuery('dl.recipe').each(function(){
			calculateRecipeCost(this);
		});

		// select the text within any input that gets focused
		jQuery('dl.recipe dd input').focus(function(){
			this.select();
		});

		// attach an event to recalculate whenever an input element changes
		jQuery('dl.recipe dd input').change(function(){
			calculateRecipeCost(jQuery(this).parent('dd').parent('dl'));
		});

	});
	</script>
</body>
</html>